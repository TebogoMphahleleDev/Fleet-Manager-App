import{a as H}from"./chunk-VHRQR5QR.js";import{b as F,h as V}from"./chunk-IUCOVMK4.js";import{a as B,b as N}from"./chunk-FFLQZGHZ.js";import{a as Y,b as M}from"./chunk-7SN2W6C3.js";import"./chunk-TMZC4RWW.js";import"./chunk-JKTBMZC7.js";import"./chunk-5KAHAUYY.js";import{A as y,B as D,C as L,E as I,F as T,G as R,R as $,S as j,X as z,Y as A}from"./chunk-7UVTZ53J.js";import{$a as d,Aa as C,Jb as E,Ma as l,Na as m,Oa as b,Pa as h,Ra as t,Sa as e,Ta as v,Vb as P,Y as f,Ya as k,Z as _,_a as u,fc as w,hc as O,nb as i,ob as g,pb as S,sa as r,wa as p}from"./chunk-7SSOWWR7.js";var J=(a,o)=>o.id;function K(a,o){a&1&&(t(0,"div",4),v(1,"mat-spinner",5),t(2,"p"),i(3,"Loading maintenance records..."),e()())}function Q(a,o){if(a&1&&(t(0,"mat-error",6),i(1),e()),a&2){let n=d(2);r(),g(n.errorMessage)}}function U(a,o){if(a&1){let n=k();t(0,"mat-card",9)(1,"mat-card-content")(2,"div",10)(3,"div",11)(4,"mat-icon"),i(5,"build"),e(),t(6,"span",12),i(7,"Description:"),e(),t(8,"span"),i(9),e()(),t(10,"div",11)(11,"mat-icon"),i(12,"calendar_today"),e(),t(13,"span",12),i(14,"Date:"),e(),t(15,"span"),i(16),e()(),t(17,"div",11)(18,"mat-icon"),i(19,"attach_money"),e(),t(20,"span",12),i(21,"Cost:"),e(),t(22,"span"),i(23),e()()(),t(24,"mat-card-actions",13)(25,"button",14),u("click",function(s){let x=f(n).$implicit;return d(3).editMaintenance(x.id),_(s.stopPropagation())}),t(26,"mat-icon"),i(27,"edit"),e(),i(28," Edit "),e(),t(29,"button",15),u("click",function(s){let x=f(n).$implicit;return d(3).deleteMaintenance(x.id),_(s.stopPropagation())}),t(30,"mat-icon"),i(31,"delete"),e(),i(32," Delete "),e()()()()}if(a&2){let n=o.$implicit;r(9),g(n.description),r(7),g(n.date),r(7),S("$",n.cost)}}function W(a,o){if(a&1&&(t(0,"div",7),b(1,U,33,3,"mat-card",9,J),e()),a&2){let n=d(2);r(),h(n.maintenances)}}function X(a,o){a&1&&(t(0,"p",8),i(1,"No maintenance records found."),e())}function Z(a,o){if(a&1&&(l(0,Q,2,1,"mat-error",6),l(1,W,3,0,"div",7),l(2,X,2,0,"p",8)),a&2){let n=d();m(n.errorMessage?0:-1),r(),m(n.maintenances.length>0?1:-1),r(),m(n.maintenances.length===0?2:-1)}}var q=class a{constructor(o,n,c){this.maintenanceService=o;this.cd=n;this.dialog=c}maintenances=[];errorMessage="";loading=!1;ngOnInit(){this.loadMaintenances()}loadMaintenances(){this.loading=!0,this.maintenanceService.getMaintenances().subscribe({next:o=>{console.log(o),this.maintenances=o,this.loading=!1,this.cd.detectChanges()},error:o=>{this.errorMessage="Failed to load maintenance logs",this.loading=!1}})}deleteMaintenance(o){this.dialog.open(M,{data:{message:"Are you sure you want to delete this maintenance record?"}}).afterClosed().subscribe(c=>{c&&this.maintenanceService.deleteMaintenance(o).subscribe({next:()=>this.loadMaintenances(),error:s=>this.errorMessage="Failed to delete maintenance"})})}editMaintenance(o){let n=this.dialog.open(M,{data:{message:"Are you sure you want to edit this maintenance record?"}})}static \u0275fac=function(n){return new(n||a)(p(H),p(E),p(Y))};static \u0275cmp=C({type:a,selectors:[["app-maintenance-list"]],decls:16,vars:1,consts:[[1,"maintenance-list"],[1,"list-header"],["mat-stroked-button","","routerLink","/dashboard",1,"back-btn"],["mat-raised-button","","routerLink","/maintenance/form","color","primary",1,"add-btn"],[1,"loading-container"],["diameter","50"],[1,"error-message"],[1,"maintenance-grid"],[1,"no-records"],[1,"maintenance-card"],[1,"maintenance-info"],[1,"info-row"],[1,"label"],[1,"card-actions"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"]],template:function(n,c){n&1&&(t(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),i(3,"Maintenance Records"),e(),t(4,"mat-card-actions")(5,"button",2)(6,"mat-icon"),i(7,"arrow_back"),e(),i(8," Back to Dashboard "),e(),t(9,"button",3)(10,"mat-icon"),i(11,"add"),e(),i(12," Add Maintenance "),e()()(),t(13,"mat-card-content"),l(14,K,4,0,"div",4)(15,Z,3,3),e()()),n&2&&(r(14),m(c.loading?14:15))},dependencies:[P,O,w,R,y,I,L,T,D,A,z,j,$,V,F,N,B],styles:[".maintenance-list[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;flex-wrap:wrap;gap:16px}.back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;background:#718096;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.back-btn[_ngcontent-%COMP%]:hover{background:#4a5568;transform:translateY(-1px)}.add-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;background:#4299e1;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.add-btn[_ngcontent-%COMP%]:hover{background:#3182ce;transform:translateY(-1px)}h2[_ngcontent-%COMP%]{margin:0;color:#1a202c;font-size:1.8rem}.add-button[_ngcontent-%COMP%]{display:inline-block;padding:10px 15px;background-color:#28a745;color:#fff;text-decoration:none;border-radius:4px;font-weight:500}.add-button[_ngcontent-%COMP%]:hover{background-color:#218838}.error[_ngcontent-%COMP%]{color:#dc3545;margin-bottom:20px;padding:10px;background-color:#f8d7da;border:1px solid #f5c6cb;border-radius:4px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e2e8f0}th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600;color:#2d3748}button[_ngcontent-%COMP%]{padding:6px 12px;background-color:#dc3545;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.9rem}button[_ngcontent-%COMP%]:hover{background-color:#c82333}p[_ngcontent-%COMP%]{color:#718096;text-align:center;padding:40px 20px;margin:0}@media (max-width: 768px){.list-header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:flex-start}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px 10px}}"]})};export{q as MaintenanceListComponent};
