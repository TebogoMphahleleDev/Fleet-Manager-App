import{c as I}from"./chunk-GAD7AN2K.js";import{b as E,d as f,f as D,g as R,i as k,k as N,l as L,o as A,p as T,t as K,u as Q}from"./chunk-SAZJTF6N.js";import{a as U,b as Y,c as H,g as J,h as W}from"./chunk-IUCOVMK4.js";import{a as et}from"./chunk-3YM7IDPM.js";import{A as B,B as j,C as z,D as q,E as G,G as V,I as C,R as X,S as Z,X as $,Y as tt,z as h}from"./chunk-7UVTZ53J.js";import{$a as v,Aa as u,Ba as P,Fa as c,La as y,Qa as l,R as b,Ra as o,Sa as r,Sb as w,Ta as p,Vb as S,_a as _,ec as F,lb as O,nb as d,ob as M,pb as x,sa as a,wa as s}from"./chunk-7SSOWWR7.js";var it=(()=>{class i{get vertical(){return this._vertical}set vertical(e){this._vertical=C(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=C(e)}_inset=!1;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=u({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,n){t&2&&(y("aria-orientation",n.vertical?"vertical":"horizontal"),O("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,n){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return i})(),nt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=P({type:i});static \u0275inj=b({imports:[h,h]})}return i})();function dt(i,m){i&1&&(o(0,"span"),d(1,"Email is required"),r())}function mt(i,m){i&1&&(o(0,"span"),d(1,"Please enter a valid email address"),r())}function lt(i,m){if(i&1&&(o(0,"mat-error"),c(1,dt,2,0,"span",6)(2,mt,2,0,"span",6),r()),i&2){let e,t,n=v();a(),l("ngIf",(e=n.loginForm.get("email"))==null||e.errors==null?null:e.errors.required),a(),l("ngIf",(t=n.loginForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function st(i,m){i&1&&(o(0,"span"),d(1,"Password is required"),r())}function ct(i,m){if(i&1&&(o(0,"mat-error"),c(1,st,2,0,"span",6),r()),i&2){let e,t=v();a(),l("ngIf",(e=t.loginForm.get("password"))==null||e.errors==null?null:e.errors.required)}}var ot=class i{constructor(m,e,t,n){this.authService=m;this.router=e;this.fb=t;this.popupService=n;this.loginForm=this.fb.group({email:["",[f.required,f.email]],password:["",f.required]})}loginForm;isRegisterMode=!1;login(){if(this.loginForm.invalid)return;let{email:m,password:e}=this.loginForm.value;this.authService.login(m,e).subscribe({next:t=>{},error:t=>{this.popupService.showError("Invalid email or password")}})}register(){if(this.loginForm.invalid)return;let{email:m,password:e}=this.loginForm.value;this.authService.register(m,e).subscribe({next:t=>{this.popupService.showSuccess("User registered successfully. You can now login."),this.isRegisterMode=!1},error:t=>{this.popupService.showError("Registration failed. Email may already exist.")}})}toggleMode(){this.isRegisterMode=!this.isRegisterMode}static \u0275fac=function(e){return new(e||i)(s(I),s(F),s(A),s(et))};static \u0275cmp=u({type:i,selectors:[["app-login"]],decls:29,vars:8,consts:[[1,"login-container"],[1,"form-header"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"form-group"],["matPrefix",""],["matInput","","type","email","formControlName","email","id","email"],[4,"ngIf"],["matInput","","type","password","formControlName","password","id","password"],["mat-raised-button","","type","submit",1,"submit-btn",3,"disabled"],[1,"btn-loader"],[1,"divider"],["mat-stroked-button","","type","button",1,"toggle-btn",3,"click"]],template:function(e,t){if(e&1&&(o(0,"mat-card",0)(1,"div",1)(2,"mat-card-title"),d(3),r(),o(4,"mat-card-subtitle"),d(5),r()(),o(6,"mat-card-content")(7,"form",2),_("ngSubmit",function(){return t.isRegisterMode?t.register():t.login()}),o(8,"mat-form-field",3)(9,"mat-icon",4),d(10,"mail"),r(),o(11,"mat-label"),d(12,"Email Address"),r(),p(13,"input",5),c(14,lt,3,2,"mat-error",6),r(),o(15,"mat-form-field",3)(16,"mat-icon",4),d(17,"lock"),r(),o(18,"mat-label"),d(19,"Password"),r(),p(20,"input",7),c(21,ct,2,1,"mat-error",6),r(),o(22,"button",8),d(23),p(24,"span",9),r()()(),o(25,"mat-card-actions"),p(26,"mat-divider",10),o(27,"button",11),_("click",function(){return t.toggleMode()}),d(28),r()()()),e&2){let n,g;a(3),M(t.isRegisterMode?"Create Account":"Welcome Back"),a(2),M(t.isRegisterMode?"Join our community today":"Sign in to your account"),a(2),l("formGroup",t.loginForm),a(7),l("ngIf",((n=t.loginForm.get("email"))==null?null:n.invalid)&&((n=t.loginForm.get("email"))==null?null:n.touched)),a(7),l("ngIf",((g=t.loginForm.get("password"))==null?null:g.invalid)&&((g=t.loginForm.get("password"))==null?null:g.touched)),a(),l("disabled",t.loginForm.invalid),a(),x(" ",t.isRegisterMode?"Create Account":"Sign In"," "),a(5),x(" ",t.isRegisterMode?"Already have an account? Sign In":"Need an account? Sign Up"," ")}},dependencies:[S,w,T,k,E,D,R,N,L,V,B,G,z,q,j,W,J,U,Y,H,Q,K,Z,X,tt,$,nt,it],styles:[".login-container[_ngcontent-%COMP%]{max-width:420px;margin:40px auto;padding:0;background:#fff;border-radius:16px;box-shadow:0 10px 30px #0000001a;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .4s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.form-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:32px 24px;text-align:center;margin-bottom:16px}.form-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin-bottom:8px;color:#fff}.form-header[_ngcontent-%COMP%]   .mat-mdc-card-subtitle[_ngcontent-%COMP%]{opacity:.9;font-size:15px;font-weight:400;color:#ffffffe6}.mat-mdc-card-content[_ngcontent-%COMP%]{padding:32px 24px 24px!important}.form-group[_ngcontent-%COMP%]{margin-bottom:24px;width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.mdc-text-field--outlined[_ngcontent-%COMP%]{border-radius:10px!important}.mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%], .mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#e2e8f0!important;border-width:2px!important}.mdc-text-field--outlined.mdc-text-field--focused[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .mdc-text-field--outlined.mdc-text-field--focused[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%], .mdc-text-field--outlined.mdc-text-field--focused[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#667eea!important}.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{opacity:.1}.mat-mdc-form-field-error[_ngcontent-%COMP%]{color:#e53e3e!important;font-size:13px!important}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;justify-content:center;align-items:center;gap:8px;margin-top:8px;height:48px}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 6px 20px #667eea66}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-loader[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;opacity:0}.submit-btn[_ngcontent-%COMP%]:disabled   .btn-loader[_ngcontent-%COMP%]{opacity:1}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.mat-mdc-card-actions[_ngcontent-%COMP%]{padding:0 24px 24px!important;margin-top:16px}.divider[_ngcontent-%COMP%]{margin:16px 0!important}.toggle-btn[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:15px;font-weight:500;border-color:#e2e8f0}.toggle-btn[_ngcontent-%COMP%]:hover{background-color:#667eea0a}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{margin:20px;max-width:none}.form-header[_ngcontent-%COMP%]{padding:24px 20px}.mat-mdc-card-content[_ngcontent-%COMP%]{padding:24px 20px 20px!important}.mat-mdc-card-actions[_ngcontent-%COMP%]{padding:0 20px 20px!important}}"]})};export{ot as LoginComponent};
