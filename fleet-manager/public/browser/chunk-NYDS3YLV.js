import{a as V}from"./chunk-2HV7KA3P.js";import{a as B,b as N}from"./chunk-7SN2W6C3.js";import"./chunk-TMZC4RWW.js";import"./chunk-JKTBMZC7.js";import"./chunk-5KAHAUYY.js";import{A as L,B as I,C as D,E as T,F as R,G as j,R as z,S as $,X as q,Y as A}from"./chunk-7UVTZ53J.js";import{$a as l,Aa as _,Jb as O,Ma as c,Na as d,Oa as C,Pa as b,Qa as M,Ra as a,Sa as t,Ub as P,Vb as k,Y as u,Ya as E,Z as g,_a as v,fc as w,hc as S,nb as i,ob as f,pb as p,sa as r,ub as y,wa as x,xb as F,yb as h}from"./chunk-7SSOWWR7.js";var Q=(n,o)=>o.id;function G(n,o){if(n&1&&(a(0,"mat-card",4)(1,"mat-card-content")(2,"mat-icon",8),i(3,"warning"),t(),i(4),t()()),n&2){let e=l();r(4),p(" ",e.errorMessage," ")}}function J(n,o){if(n&1&&(a(0,"p",13),i(1),t()),n&2){let e=l().$implicit;r(),p("Fuel Type: ",e.fuel_type)}}function K(n,o){if(n&1&&(a(0,"p",14),i(1),t()),n&2){let e=l().$implicit;r(),p("Quantity: ",e.quantity," L")}}function U(n,o){if(n&1&&(a(0,"p",15),i(1),t()),n&2){let e=l().$implicit;r(),p("Location: ",e.location)}}function W(n,o){if(n&1){let e=E();a(0,"mat-card",6)(1,"mat-card-content")(2,"div",9)(3,"h3",10),i(4),F(5,"titlecase"),t(),a(6,"p",11),i(7),t(),a(8,"p",12),i(9),t(),c(10,J,2,1,"p",13),c(11,K,2,1,"p",14),c(12,U,2,1,"p",15),t(),a(13,"div",16)(14,"button",17)(15,"mat-icon"),i(16,"edit"),t(),i(17," Edit "),t(),a(18,"button",18),v("click",function(){let m=u(e).$implicit,H=l();return g(H.deleteFuelExpense(m.id))}),a(19,"mat-icon"),i(20,"delete"),t(),i(21," Delete "),t()()()()}if(n&2){let e=o.$implicit;r(4),f(h(5,8,e.expense_type)),r(3),f(e.expense_date),r(2),p("R",e.cost),r(),d(e.fuel_type?10:-1),r(),d(e.quantity?11:-1),r(),d(e.location?12:-1),r(2),M("routerLink",y("/fuel-expenses/form/",e.id))}}function X(n,o){n&1&&(a(0,"mat-card",7)(1,"mat-card-content")(2,"p"),i(3,"No fuel expenses found. Add your first fuel expense to get started."),t()()())}var Y=class n{constructor(o,e,s){this.fuelExpenseService=o;this.cd=e;this.dialog=s}fuelExpenses=[];errorMessage="";ngOnInit(){this.loadFuelExpenses()}loadFuelExpenses(){this.fuelExpenseService.getFuelExpenses().subscribe({next:o=>{console.log("Loaded fuel expenses:"),this.fuelExpenses=o,this.cd.detectChanges()},error:o=>{console.error("Failed to load fuel expenses:",o),this.errorMessage="Failed to load fuel expenses"}})}deleteFuelExpense(o){this.dialog.open(N,{data:{message:"Are you sure you want to delete this fuel expense?"}}).afterClosed().subscribe(s=>{s&&this.fuelExpenseService.deleteFuelExpense(o).subscribe({next:()=>{console.log("Fuel expense deleted"),this.loadFuelExpenses()},error:m=>{console.error("Failed to delete fuel expense:",m),this.errorMessage="Failed to delete fuel expense"}})})}static \u0275fac=function(e){return new(e||n)(x(V),x(O),x(B))};static \u0275cmp=_({type:n,selectors:[["app-fuel-expense-list"]],decls:19,vars:2,consts:[[1,"fuel-expense-list"],[1,"list-header"],["mat-stroked-button","","routerLink","/dashboard",1,"back-btn"],["mat-raised-button","","routerLink","/fuel-expenses/form","color","primary",1,"add-btn"],[1,"error-message"],[1,"fuel-expenses-container"],[1,"expense-card"],[1,"empty-state"],[1,"error-icon"],[1,"expense-info"],[1,"expense-type"],[1,"expense-date"],[1,"expense-cost"],[1,"fuel-type"],[1,"quantity"],[1,"location"],[1,"expense-actions"],["mat-stroked-button","",1,"edit-btn",3,"routerLink"],["mat-stroked-button","","color","warn",1,"delete-btn",3,"click"]],template:function(e,s){e&1&&(a(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),i(3,"Fuel Expenses"),t(),a(4,"mat-card-actions")(5,"button",2)(6,"mat-icon"),i(7,"arrow_back"),t(),i(8," Back to Dashboard "),t(),a(9,"button",3)(10,"mat-icon"),i(11,"add"),t(),i(12," Add New Fuel Expense "),t()()(),a(13,"mat-card-content"),c(14,G,5,1,"mat-card",4),a(15,"div",5),C(16,W,22,10,"mat-card",6,Q,!1,X,4,0,"mat-card",7),t()()()),e&2&&(r(14),d(s.errorMessage?14:-1),r(2),b(s.fuelExpenses))},dependencies:[k,S,w,j,L,T,D,R,I,A,q,$,z,P],styles:[".fuel-expense-list[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;flex-wrap:wrap;gap:16px}.back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;background:#718096;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.back-btn[_ngcontent-%COMP%]:hover{background:#4a5568;transform:translateY(-1px)}.add-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;background:#4299e1;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.add-btn[_ngcontent-%COMP%]:hover{background:#3182ce;transform:translateY(-1px)}h2[_ngcontent-%COMP%]{margin:0;color:#1a202c;font-size:1.8rem}.error-message[_ngcontent-%COMP%]{color:#dc3545;margin-bottom:20px;padding:10px;background-color:#f8d7da;border:1px solid #f5c6cb;border-radius:4px;display:flex;align-items:center;gap:8px}.fuel-expenses-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.expense-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;box-shadow:0 1px 3px #0000001a;display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:16px}.expense-info[_ngcontent-%COMP%]{flex:1;min-width:200px}.expense-type[_ngcontent-%COMP%]{margin:0 0 8px;color:#1a202c;font-size:1.2rem}.expense-date[_ngcontent-%COMP%], .expense-cost[_ngcontent-%COMP%], .fuel-type[_ngcontent-%COMP%], .quantity[_ngcontent-%COMP%], .location[_ngcontent-%COMP%]{margin:4px 0;color:#718096;font-size:.9rem}.expense-cost[_ngcontent-%COMP%]{font-weight:600;color:#2d3748}.expense-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:#4299e1;color:#fff;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.edit-btn[_ngcontent-%COMP%]:hover{background:#3182ce;transform:translateY(-1px)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#718096;background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (max-width: 768px){.list-header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:flex-start}.expense-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.expense-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}"]})};export{Y as FuelExpenseList};
