import{a as V}from"./chunk-6RIRNLKB.js";import{a as A,b as N}from"./chunk-7SN2W6C3.js";import"./chunk-TMZC4RWW.js";import"./chunk-JKTBMZC7.js";import"./chunk-5KAHAUYY.js";import{A as S,B as w,C as y,E as I,F as D,G as L,R,S as F,X as j,Y as z}from"./chunk-7UVTZ53J.js";import{$a as m,Aa as u,Jb as T,Ma as s,Na as l,Oa as b,Pa as C,Qa as _,Ra as n,Sa as t,Vb as O,Y as f,Ya as M,Z as x,_a as v,fc as P,hc as E,nb as e,pb as c,qb as h,sa as a,wa as p,wb as k}from"./chunk-7SSOWWR7.js";var Y=o=>["/trips/form",o],H=(o,r)=>r.id;function q(o,r){if(o&1&&(n(0,"mat-card",4)(1,"mat-card-content")(2,"mat-icon",8),e(3,"warning"),t(),e(4),t()()),o&2){let i=m();a(4),c(" ",i.errorMessage," ")}}function G(o,r){if(o&1){let i=M();n(0,"mat-card",6)(1,"mat-card-content")(2,"div",9)(3,"h3",10),e(4),t(),n(5,"p",11)(6,"span",12),e(7,"Driver ID:"),t(),e(8),n(9,"span",12),e(10,"Vehicle ID:"),t(),e(11),t(),n(12,"p",13)(13,"span",12),e(14,"Start:"),t(),e(15),n(16,"span",12),e(17,"End:"),t(),e(18),t()(),n(19,"div",14)(20,"button",15)(21,"mat-icon"),e(22,"edit"),t(),e(23," Edit "),t(),n(24,"button",16),v("click",function(){let g=f(i).$implicit,$=m();return x($.deleteTrip(g.id))}),n(25,"mat-icon"),e(26,"delete"),t(),e(27," Delete "),t()()()()}if(o&2){let i=r.$implicit;a(4),h("",i.start_location," to ",i.end_location),a(4),c(" ",i.driver_id," | "),a(3),c(" ",i.vehicle_id," "),a(4),c(" ",i.start_time," | "),a(3),c(" ",i.end_time," "),a(2),_("routerLink",k(7,Y,i.id))}}function J(o,r){o&1&&(n(0,"mat-card",7)(1,"mat-card-content")(2,"p"),e(3,"No trips found. Add your first trip to get started."),t()()())}var B=class o{constructor(r,i,d){this.tripService=r;this.cd=i;this.dialog=d}trips=[];errorMessage="";ngOnInit(){this.loadTrips()}loadTrips(){this.tripService.getTrips().subscribe({next:r=>{console.log(r),this.trips=r,this.cd.detectChanges()},error:r=>this.errorMessage="Failed to load trips"})}deleteTrip(r){this.dialog.open(N,{data:{message:"Are you sure you want to delete this trip?"}}).afterClosed().subscribe(d=>{d&&this.tripService.deleteTrip(r).subscribe({next:()=>this.loadTrips(),error:g=>this.errorMessage="Failed to delete trip"})})}static \u0275fac=function(i){return new(i||o)(p(V),p(T),p(A))};static \u0275cmp=u({type:o,selectors:[["app-trip-list"]],decls:19,vars:2,consts:[[1,"trip-list"],[1,"list-header"],["mat-stroked-button","","routerLink","/dashboard",1,"back-btn"],["mat-raised-button","","routerLink","/trips/form","color","primary",1,"add-btn"],[1,"error-message"],[1,"trips-container"],[1,"trip-card"],[1,"empty-state"],[1,"error-icon"],[1,"trip-info"],[1,"trip-route"],[1,"trip-details"],[1,"label"],[1,"trip-times"],[1,"trip-actions"],["mat-stroked-button","",1,"edit-btn",3,"routerLink"],["mat-stroked-button","","color","warn",1,"delete-btn",3,"click"]],template:function(i,d){i&1&&(n(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),e(3,"Trips"),t(),n(4,"mat-card-actions")(5,"button",2)(6,"mat-icon"),e(7,"arrow_back"),t(),e(8," Back to Dashboard "),t(),n(9,"button",3)(10,"mat-icon"),e(11,"add"),t(),e(12," Add New Trip "),t()()(),n(13,"mat-card-content"),s(14,q,5,1,"mat-card",4),n(15,"div",5),b(16,G,28,9,"mat-card",6,H),t(),s(18,J,4,0,"mat-card",7),t()()),i&2&&(a(14),l(d.errorMessage?14:-1),a(2),C(d.trips),a(2),l(d.trips.length===0?18:-1))},dependencies:[O,E,P,L,S,I,y,D,w,z,j,F,R],styles:[".trip-list[_ngcontent-%COMP%]{max-width:900px;margin:40px auto;padding:0 20px}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;flex-wrap:wrap;gap:16px}.back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;background:#718096;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.back-btn[_ngcontent-%COMP%]:hover{background:#4a5568;transform:translateY(-1px)}.trip-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#1a202c;margin:0}.add-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;background:#4299e1;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.add-btn[_ngcontent-%COMP%]:hover{background:#3182ce;transform:translateY(-1px)}.error[_ngcontent-%COMP%]{color:#dc3545;padding:10px;margin-bottom:20px;background:#f8d7da;border:1px solid #f5c6cb;border-radius:4px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{padding:15px;background:#fff;border:1px solid #e2e8f0;border-radius:8px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px 10px;text-decoration:none;border-radius:4px;font-size:.9rem;font-weight:500;margin-left:10px;background:#e9ecef;color:#495057}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#dee2e6}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-of-type(2){background:#e2e8f0;color:#4a5568}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-of-type(2):hover{background:#cbd5e0}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;background:#fed7d7;color:#c53030;border:none;border-radius:4px;font-size:.9rem;font-weight:500;cursor:pointer;margin-left:10px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#feb2b2}"]})};export{B as TripListComponent};
