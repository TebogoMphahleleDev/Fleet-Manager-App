import{a as A}from"./chunk-F4ZXE7SN.js";import{a as F,b as N}from"./chunk-7SN2W6C3.js";import"./chunk-TMZC4RWW.js";import"./chunk-JKTBMZC7.js";import"./chunk-5KAHAUYY.js";import{A as w,B as y,C as E,E as S,F as I,G as L,R as z,S as T,X as j,Y as R}from"./chunk-7UVTZ53J.js";import{$a as m,Aa as x,Jb as O,Ma as s,Na as l,Oa as b,Pa as u,Qa as C,Ra as i,Sa as e,Vb as P,Y as f,Ya as M,Z as v,_a as _,fc as k,nb as t,ob as h,pb as p,sa as a,ub as D,wa as c}from"./chunk-7SSOWWR7.js";var B=(o,n)=>n.id;function $(o,n){if(o&1&&(i(0,"mat-card",4)(1,"mat-card-content")(2,"mat-icon",8),t(3,"warning"),e(),t(4),e()()),o&2){let r=m();a(4),p(" ",r.errorMessage," ")}}function H(o,n){if(o&1){let r=M();i(0,"mat-card",6)(1,"mat-card-content")(2,"div",9)(3,"h3",10),t(4),e(),i(5,"p",11)(6,"span",12),t(7,"Vehicle:"),e(),t(8),e()(),i(9,"div",13)(10,"button",14)(11,"mat-icon"),t(12,"edit"),e(),t(13," Edit "),e(),i(14,"button",15),_("click",function(){let g=f(r).$implicit,Y=m();return v(Y.deleteDriver(g.id))}),i(15,"mat-icon"),t(16,"delete"),e(),t(17," Delete "),e()()()()}if(o&2){let r=n.$implicit;a(4),h(r.name),a(4),p(" ",r.vehicle_id||"Not assigned"," "),a(2),C("routerLink",D("/drivers/form/",r.id))}}function q(o,n){o&1&&(i(0,"mat-card",7)(1,"mat-card-content")(2,"p"),t(3,"No drivers found. Add your first driver to get started."),e()()())}var V=class o{constructor(n,r,d){this.driverService=n;this.cd=r;this.dialog=d}drivers=[];errorMessage="";ngOnInit(){this.loadDrivers()}loadDrivers(){this.driverService.getDrivers().subscribe({next:n=>{console.log(n),this.drivers=n,this.cd.detectChanges()},error:n=>this.errorMessage="Failed to load drivers"})}deleteDriver(n){this.dialog.open(N,{data:{message:"Are you sure you want to delete this driver?"}}).afterClosed().subscribe(d=>{d&&this.driverService.deleteDriver(n).subscribe({next:()=>{console.log("Driver deleted"),this.loadDrivers()},error:g=>this.errorMessage="Failed to delete driver"})})}static \u0275fac=function(r){return new(r||o)(c(A),c(O),c(F))};static \u0275cmp=x({type:o,selectors:[["app-driver-list"]],decls:19,vars:2,consts:[[1,"driver-list"],[1,"list-header"],["mat-stroked-button","","routerLink","/dashboard",1,"back-btn"],["mat-raised-button","","routerLink","/drivers/form","color","primary",1,"add-btn"],[1,"error-message"],[1,"drivers-container"],[1,"driver-card"],[1,"empty-state"],[1,"error-icon"],[1,"driver-info"],[1,"driver-name"],[1,"vehicle-info"],[1,"label"],[1,"driver-actions"],["mat-stroked-button","",1,"edit-btn",3,"routerLink"],["mat-stroked-button","","color","warn",1,"delete-btn",3,"click"]],template:function(r,d){r&1&&(i(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),t(3,"Drivers"),e(),i(4,"mat-card-actions")(5,"button",2)(6,"mat-icon"),t(7,"arrow_back"),e(),t(8," Back to Dashboard "),e(),i(9,"button",3)(10,"mat-icon"),t(11,"add"),e(),t(12," Add New Driver "),e()()(),i(13,"mat-card-content"),s(14,$,5,1,"mat-card",4),i(15,"div",5),b(16,H,18,4,"mat-card",6,B),e(),s(18,q,4,0,"mat-card",7),e()()),r&2&&(a(14),l(d.errorMessage?14:-1),a(2),u(d.drivers),a(2),l(d.drivers.length===0?18:-1))},dependencies:[P,k,L,w,S,E,I,y,R,j,T,z],styles:[".driver-list[_ngcontent-%COMP%]{max-width:800px;margin:40px auto;padding:0 20px}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;flex-wrap:wrap;gap:16px}.back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;background:#718096;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.back-btn[_ngcontent-%COMP%]:hover{background:#4a5568;transform:translateY(-1px)}.list-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1a202c;margin:0}.add-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;background:#4299e1;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.add-btn[_ngcontent-%COMP%]:hover{background:#3182ce;transform:translateY(-1px)}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:16px;background:#fed7d7;color:#c53030;border:1px solid #feb2b2;border-radius:8px;margin-bottom:24px;font-weight:500}.drivers-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.driver-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;background:#fff;border:1px solid #e2e8f0;border-radius:8px;transition:all .2s ease;flex-wrap:wrap;gap:16px}.driver-card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a;border-color:#cbd5e0}.driver-info[_ngcontent-%COMP%]{flex:1}.driver-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#2d3748;margin:0 0 4px}.vehicle-info[_ngcontent-%COMP%]{margin:0;color:#718096;font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:500;color:#4a5568}.driver-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.edit-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 16px;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.edit-btn[_ngcontent-%COMP%]{background:#e2e8f0;color:#4a5568}.edit-btn[_ngcontent-%COMP%]:hover{background:#cbd5e0;transform:translateY(-1px)}.delete-btn[_ngcontent-%COMP%]{background:#fed7d7;color:#c53030}.delete-btn[_ngcontent-%COMP%]:hover{background:#feb2b2;transform:translateY(-1px)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#718096;font-size:1.1rem}.btn-icon[_ngcontent-%COMP%]{font-size:.9rem}@media (max-width: 768px){.driver-list[_ngcontent-%COMP%]{margin:20px auto;padding:0 16px}.list-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.list-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.driver-card[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;text-align:center}.driver-actions[_ngcontent-%COMP%]{justify-content:center}}"]})};export{V as DriverListComponent};
